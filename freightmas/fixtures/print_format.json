[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n{{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n{%- set heading_label = (\n    \"Credit Note\" if doc.is_return == 1 and doc.docstatus == 1 else\n    \"Draft Credit Note\" if doc.is_return == 1 and doc.docstatus == 0 else\n    \"Proforma Invoice\" if doc.docstatus == 0 else\n    \"Tax Invoice\" if doc.docstatus == 1 else\n    \"Invoice\"\n) -%}\n\n{%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n<style>\nbody {\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  font-size: 11px;\n  color: #222;\n  margin: 10px;\n  line-height: 1.4;\n}\n\n.print-heading,\n.print-heading + div {\n  display: none !important;\n}\n\n.heading-label {\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n  color: #222;\n  margin-bottom: 20px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n}\n\n.section {\n  margin-bottom: 10px;  /* Reduced from 15px to 10px */\n}\n\n.section-title {\n  font-size: 13px;\n  font-weight: 600;\n  border-bottom: 2px solid #3f51b5;  /* Updated to corporate blue */\n  color: #3f51b5;  /* Updated to corporate blue */\n  margin-bottom: 5px;\n  padding-bottom: 2px;\n}\n\n.info-table, .job-table, .items-table, .summary-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.info-table td {\n  padding: 4px 0;\n  vertical-align: top;\n}\n\n.job-table td {\n  padding: 2px 2px;  /* Reduced horizontal padding from 5px to 4px */\n  border: 1px solid #dde2e7;\n  font-size: 12px;\n  line-height: 1.2;  /* Increased from 1.0 to 1.3 for better readability */\n  vertical-align: top;\n}\n\n.items-table th {\n  background-color: #fff;\n  color: #222;  /* Dark text for readability */\n  border-bottom: 2px solid #3f51b5;  /* Only bottom border */\n  padding: 4px 6px;\n  font-weight: 700;  /* Bolder text for emphasis */\n  font-size: 12px;  /* Increased from 11px to 12px */\n}\n\n.items-table td {\n  padding: 3px 6px;  /* Reduced from 6px to 3px top/bottom */\n  border-bottom: 1px solid #f0f3f5;\n  vertical-align: top;\n  line-height: 1.2;  /* Added to control line spacing */\n}\n\n.summary-table td {\n  padding: 3px 6px;  /* Reduced from 6px to 3px top/bottom */\n  border-bottom: 1px solid #f0f3f5;\n  line-height: 1.1;  /* Added tight line spacing */\n}\n\n.rt { text-align: right; }\n.cn { text-align: center; }\n\n.grand-total {\n  background-color: #e8eaf6;  /* Light version of corporate blue */\n  font-weight: 700;\n}\n\n.footer-note {\n  font-size: 11px;  /* Changed from 10px to 11px */\n  color: #666;\n  text-align: center;\n  margin-top: 12px;\n}\n\n/* Item description styling to match your current format */\n.item-name {\n  color: #222;\n  font-weight: 500;\n}\n\n.item-desc {\n  color: #222;  /* Changed from #666 to #222 to match item-name */\n  font-weight: normal;\n}\n\n/* Ensure no extra line breaks in descriptions */\n.item-description {\n  white-space: normal;\n  word-wrap: break-word;\n  line-height: 1.0;  /* Added tighter line spacing */\n}\n\n/* Add this specific rule for the summary section */\n.section:last-of-type {\n  margin-bottom: 5px;  /* Reduced spacing for summary section */\n}\n</style>\n\n<div class=\"heading-label\">{{ heading_label }}</div>\n\n<!-- Customer Information -->\n<div class=\"section\">\n  <table class=\"info-table\">\n    <tr>\n      <td style=\"width: 50%;\">\n        <strong>To:</strong><br>\n        <strong>{{ doc.customer_name }}</strong><br>\n        {% if cust_addr %}\n          {{ cust_addr[0].address_line1 or \"\" }}<br>\n          {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n          {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n        {% endif %}\n        Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}\n      </td>\n      <td class=\"rt\" style=\"width: 50%;\">\n        <strong>Invoice No.:</strong> <strong>{{ doc.name }}</strong><br>\n        <strong>Posting Date:</strong> {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n        <strong>Due Date:</strong> {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n        <strong>Currency:</strong> {{ doc.currency }}<br>\n        <strong>Status:</strong> {{ doc.status }}<br>\n        <strong>Outstanding:</strong> {{ frappe.utils.fmt_money(doc.outstanding_amount, currency=doc.currency, format=\"#,##0.00\") }}\n      </td>\n    </tr>\n  </table>\n</div>\n\n<!-- Dynamic Job Details Section -->\n{% if doc.is_clearing_invoice and doc.clearing_job_reference %}\n  {% set job = frappe.get_doc(\"Clearing Job\", doc.clearing_job_reference) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Clearing Job Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td style=\"width: 33.33%;\"><strong>Consignee:</strong> {{ job.consignee or \"-\" }}</td>\n        <td style=\"width: 33.33%;\"><strong>Job Reference:</strong> {{ job.name }}</td>\n        <td style=\"width: 33.33%;\"><strong>Client Reference:</strong> {{ job.customer_reference or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td><strong>Origin/Dest:</strong> {{ job.origin or \"-\" }} → {{ job.destination or \"-\" }}</td>\n        <td><strong>Job Type:</strong> {{ job.direction or \"-\" }}</td>\n        <td><strong>BL Number:</strong> {{ job.bl_number or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\"><strong>Cargo Desc.:</strong> {{ job.cargo_description or \"-\" }}</td>\n        <td><strong>Cargo Count:</strong> {{ job.cargo_count or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n{% elif doc.is_forwarding_invoice and doc.forwarding_job_reference %}\n  {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Forwarding Job Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td style=\"width: 33.33%;\"><strong>Consignee:</strong> {{ job.consignee or \"-\" }}</td>\n        <td style=\"width: 33.33%;\"><strong>Job Reference:</strong> {{ job.name }}</td>\n        <td style=\"width: 33.33%;\"><strong>Client Reference:</strong> {{ job.customer_reference or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td><strong>Origin/Dest:</strong> {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}</td>\n        <td><strong>Job Type:</strong> {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}</td>\n        <td><strong>BL Number:</strong> {{ job.bl_number or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\"><strong>Cargo Desc.:</strong> {{ job.cargo_description or \"-\" }}</td>\n        <td><strong>Cargo Count:</strong> {{ job.cargo_count or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n{% elif doc.is_road_freight_invoice and doc.road_freight_job_reference %}\n  {% set job = frappe.get_doc(\"Road Freight Job\", doc.road_freight_job_reference) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Road Freight Job Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td style=\"width: 33.33%;\"><strong>Consignee:</strong> {{ job.consignee or \"-\" }}</td>\n        <td style=\"width: 33.33%;\"><strong>Job Reference:</strong> {{ job.name }}</td>\n        <td style=\"width: 33.33%;\"><strong>Client Reference:</strong> {{ job.customer_reference or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td><strong>Origin/Dest:</strong> {{ job.port_of_loading or \"-\" }} → {{ job.port_of_discharge or \"-\" }}</td>\n        <td><strong>Job Type:</strong> {{ job.direction or \"-\" }}</td>\n        <td><strong>Shipment Type:</strong> {{ job.shipment_type or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\"><strong>Cargo Desc.:</strong> {{ job.cargo_description or \"-\" }}</td>\n        <td><strong>Trucks Confirmed:</strong> {{ job.trucks_confirmed or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n{% elif doc.is_trip_invoice and doc.trip_reference %}\n  {% set job = frappe.get_doc(\"Trip\", doc.trip_reference) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Trip Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td style=\"width: 33.33%;\"><strong>Truck:</strong> {{ job.horse or job.trailer or \"-\" }}</td>\n        <td style=\"width: 33.33%;\"><strong>Trip Reference:</strong> {{ job.name }}</td>\n        <td style=\"width: 33.33%;\"><strong>Client Reference:</strong> {{ job.customer_reference or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td><strong>Origin/Dest:</strong> {{ job.route or \"-\" }}</td>\n        <td><strong>Trip Type:</strong> {{ job.trip_direction or \"-\" }}</td>\n        <td><strong>Cargo Type:</strong> {{ job.cargo_type or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\"><strong>Cargo Desc.:</strong> {{ job.cargo_description or \"-\" }}</td>\n        <td><strong>Container No:</strong> {{ job.container_number or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n{% elif doc.forwarding_job_reference %}\n  {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Forwarding Job Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td style=\"width: 33.33%;\"><strong>Consignee:</strong> {{ job.consignee or \"-\" }}</td>\n        <td style=\"width: 33.33%;\"><strong>Job Reference:</strong> {{ job.name }}</td>\n        <td style=\"width: 33.33%;\"><strong>Client Reference:</strong> {{ job.customer_reference or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td><strong>Origin/Dest:</strong> {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}</td>\n        <td><strong>Job Type:</strong> {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}</td>\n        <td><strong>BL Number:</strong> {{ job.bl_number or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\"><strong>Cargo Desc.:</strong> {{ job.cargo_description or \"-\" }}</td>\n        <td><strong>Cargo Count:</strong> {{ job.cargo_count or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n{% endif %}\n\n<!-- Invoice Items -->\n<div class=\"section\">\n  <div class=\"section-title\">Invoice Items</div>\n  <table class=\"items-table\">\n    <thead>\n      <tr>\n        <th class=\"cn\" style=\"width:5%\">#</th>\n        <th style=\"width:55%\">Description</th>\n        <th class=\"rt\" style=\"width:13%\">Amount</th>\n        <th class=\"rt\" style=\"width:13%\">VAT</th>\n        <th class=\"rt\" style=\"width:14%\">Total</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n      {% for item in doc.items %}\n      <tr>\n        <td class=\"cn\">{{ item.idx }}</td>\n        <td class=\"item-description\">\n          <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n        </td>\n        <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n        <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (vat_rate / 100)) }}</td>\n        <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (1 + (vat_rate / 100))) }}</td>\n      </tr>\n      {% endfor %}\n    </tbody>\n  </table>\n</div>\n\n<!-- Summary -->\n<div class=\"section\">\n  <div class=\"section-title\">Summary</div>\n  <table class=\"summary-table\">\n    <tr>\n      <td style=\"width: 65%;\">\n        {% if doc.payment_terms_template %}\n          <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n        {% endif %}\n      </td>\n      <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n      <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency, format=\"#,##0.00\") }}</td>\n    </tr>\n    <tr>\n      <td></td>\n      <td><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n      <td class=\"rt\" style=\"white-space: nowrap;\">\n        {% if doc.total_taxes_and_charges %}\n          {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency, format=\"#,##0.00\") }}\n        {% else %}\n          {{ frappe.utils.fmt_money(0, currency=doc.currency, format=\"#,##0.00\") }}\n        {% endif %}\n      </td>\n    </tr>\n    <tr class=\"grand-total\">\n      <td></td>\n      <td><strong>Grand Total</strong></td>\n      <td class=\"rt\" style=\"white-space: nowrap;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency, format=\"#,##0.00\") }}</strong></td>\n    </tr>\n  </table>\n</div>\n\n<!-- Amount in Words -->\n{% if doc.in_words %}\n<p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n{% endif %}\n\n<!-- Banking Details -->\n{% if doc.banking_profile %}\n{% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n<div class=\"section\">\n  <div class=\"section-title\">Banking Details</div>\n  <table class=\"info-table\">\n    <tr>\n      <td style=\"width: 33.33%;\">\n        <strong>Bank Name:</strong> {{ banking_details.bank_name }}<br>\n        {% if banking_details.branch %}<strong>Branch:</strong> {{ banking_details.branch }}<br>{% endif %}\n        <strong>Account Name:</strong> {{ banking_details.account_name }}\n      </td>\n      <td style=\"width: 33.33%;\">\n        <strong>Account Number:</strong> {{ banking_details.account_number }}<br>\n        <strong>Currency:</strong> {{ banking_details.currency }}\n      </td>\n      <td style=\"width: 33.33%;\">\n        {% if banking_details.swift_code %}<strong>Swift Code:</strong> {{ banking_details.swift_code }}<br>{% endif %}\n        {% if banking_details.notes %}<strong>Notes:</strong> {{ banking_details.notes }}{% endif %}\n      </td>\n    </tr>\n  </table>\n</div>\n{% endif %}\n\n<div class=\"footer-note\">\n  Thank you for your business! If you have any questions, please contact us.\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-07-10 23:35:38.209445",
  "module": "FreightMas",
  "name": "FreightMas Sales Invoice",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_designer": 0,
  "print_designer_after_table": null,
  "print_designer_body": null,
  "print_designer_footer": null,
  "print_designer_header": null,
  "print_designer_preview_img": null,
  "print_designer_print_format": null,
  "print_designer_settings": null,
  "print_designer_template_app": "print_designer",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n{{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n{%- set heading_label = (\n    \"Freight Quotation\" if doc.is_freight_quote else\n    \"Quotation\"\n) -%}\n\n{%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer_name, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n<style>\nbody {\n  font-family: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  font-size: 11px;\n  color: #222;\n  margin: 10px;\n  line-height: 1.4;\n}\n\n.print-heading,\n.print-heading + div {\n  display: none !important;\n}\n\n.heading-label {\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n  color: #222;\n  margin-bottom: 20px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n}\n\n.section {\n  margin-bottom: 10px;\n}\n\n.section-title {\n  font-size: 13px;\n  font-weight: 600;\n  border-bottom: 2px solid #3f51b5;\n  color: #3f51b5;\n  margin-bottom: 5px;\n  padding-bottom: 2px;\n}\n\n.info-table, .job-table, .items-table, .summary-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.info-table td {\n  padding: 4px 0;\n  vertical-align: top;\n}\n\n.job-table td {\n  padding: 2px 2px;\n  border: 1px solid #dde2e7;\n  font-size: 12px;\n  line-height: 1.2;\n  vertical-align: top;\n}\n\n.items-table th {\n  background-color: #fff;\n  color: #222;\n  border-bottom: 2px solid #3f51b5;\n  padding: 4px 6px;\n  font-weight: 700;\n  font-size: 12px;\n}\n\n.items-table td {\n  padding: 3px 6px;\n  border-bottom: 1px solid #f0f3f5;\n  vertical-align: top;\n  line-height: 1.2;\n}\n\n.summary-table td {\n  padding: 3px 6px;\n  border-bottom: 1px solid #f0f3f5;\n  line-height: 1.1;\n}\n\n.rt { text-align: right; }\n.cn { text-align: center; }\n\n.grand-total {\n  background-color: #e8eaf6;\n  font-weight: 700;\n}\n\n.footer-note {\n  font-size: 11px;\n  color: #666;\n  text-align: center;\n  margin-top: 12px;\n}\n\n.item-name {\n  color: #222;\n  font-weight: 500;\n}\n\n.item-desc {\n  color: #222;\n  font-weight: normal;\n}\n\n.item-description {\n  white-space: normal;\n  word-wrap: break-word;\n  line-height: 1.0;\n}\n\n.section:last-of-type {\n  margin-bottom: 5px;\n}\n\n.terms-conditions {\n  font-size: 8px;\n  color: #555;\n  margin-top: 10px;\n  line-height: 1.2;\n  border-top: 1px solid #ddd;\n  padding-top: 8px;\n}\n\n.terms-title {\n  font-weight: 600;\n  margin-bottom: 4px;\n  font-size: 9px;\n}\n</style>\n\n<div class=\"heading-label\">{{ heading_label }}</div>\n\n<!-- Customer Information -->\n<div class=\"section\">\n  <table class=\"info-table\">\n    <tr>\n      <td style=\"width: 50%;\">\n        <strong>To:</strong><br>\n        <strong>{{ doc.customer_name }}</strong><br>\n        {% if cust_addr %}\n          {{ cust_addr[0].address_line1 or \"\" }}<br>\n          {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n          {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n        {% endif %}\n      </td>\n      <td class=\"rt\" style=\"width: 50%;\">\n        <strong>Quotation No.:</strong> <strong>{{ doc.name }}</strong><br>\n        <strong>Date:</strong> {{ frappe.utils.formatdate(doc.transaction_date, \"dd-MMM-yy\") }}<br>\n        <strong>Valid Until:</strong> {{ frappe.utils.formatdate(doc.valid_till, \"dd-MMM-yy\") }}<br>\n        <strong>Currency:</strong> {{ doc.currency }}<br>\n        <strong>Status:</strong> {{ doc.status }}\n      </td>\n    </tr>\n  </table>\n</div>\n\n<!-- Freight Job Info -->\n{% if doc.is_freight_quote %}\n<div class=\"section\">\n  <div class=\"section-title\">Freight Service Details</div>\n  <table class=\"job-table\">\n    <tr>\n      <td><strong>Job Type:</strong> {{ doc.job_type or \"-\" }}</td>\n      <td><strong>Origin:</strong> {{ doc.origin or \"-\" }}</td>\n      <td><strong>Destination:</strong> {{ doc.destination or \"-\" }}</td>\n    </tr>\n    <tr>\n      <td colspan=\"3\"><strong>Description:</strong> {{ doc.job_description or \"-\" }}</td>\n    </tr>\n  </table>\n</div>\n{% endif %}\n\n<!-- Quotation Items -->\n<div class=\"section\">\n  <div class=\"section-title\">Quotation Items</div>\n  <table class=\"items-table\">\n    <thead>\n      <tr>\n        <th class=\"cn\" style=\"width:5%\">#</th>\n        <th style=\"width:45%\">Description</th>\n        <th class=\"cn\" style=\"width:10%\">QTY</th>\n        <th class=\"rt\" style=\"width:15%\">Rate</th>\n        <th class=\"rt\" style=\"width:15%\">Total</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n      {% for item in doc.items %}\n      <tr>\n        <td class=\"cn\">{{ item.idx }}</td>\n        <td class=\"item-description\">\n          <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n        </td>\n        <td class=\"cn\">{{ item.qty or 1 }}</td>\n        <td class=\"rt\">{{ \"{:,.2f}\".format(item.rate or 0) }}</td>\n        <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n      </tr>\n      {% endfor %}\n    </tbody>\n  </table>\n</div>\n\n<!-- Summary -->\n<div class=\"section\">\n  <div class=\"section-title\">Summary</div>\n  <table class=\"summary-table\">\n    <tr>\n      <td style=\"width: 65%;\">\n        {% if doc.payment_terms_template %}\n          <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n        {% endif %}\n      </td>\n      <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n      <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency, format=\"#,##0.00\") }}</td>\n    </tr>\n    <tr>\n      <td></td>\n      <td><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n      <td class=\"rt\" style=\"white-space: nowrap;\">\n        {% if doc.total_taxes_and_charges %}\n          {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency, format=\"#,##0.00\") }}\n        {% else %}\n          {{ frappe.utils.fmt_money(0, currency=doc.currency, format=\"#,##0.00\") }}\n        {% endif %}\n      </td>\n    </tr>\n    <tr class=\"grand-total\">\n      <td></td>\n      <td><strong>Grand Total</strong></td>\n      <td class=\"rt\" style=\"white-space: nowrap;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency, format=\"#,##0.00\") }}</strong></td>\n    </tr>\n  </table>\n</div>\n\n{% if doc.in_words %}\n<p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n{% endif %}\n\n<!-- Terms and Conditions -->\n{% if doc.tc_name %}\n  {% set terms_doc = frappe.get_doc(\"Terms and Conditions\", doc.tc_name) %}\n  <div class=\"terms-conditions\">\n    <div class=\"terms-title\">{{ terms_doc.title or \"TERMS AND CONDITIONS\" }}</div>\n    {{ terms_doc.terms|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}\n  </div>\n{% endif %}\n\n<div class=\"footer-note\">\n  Thank you for the opportunity to quote. Please reach out if you have any questions.\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-07-16 10:56:30.698059",
  "module": "FreightMas",
  "name": "FreightMas Quotation",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_designer": 0,
  "print_designer_after_table": null,
  "print_designer_body": null,
  "print_designer_footer": null,
  "print_designer_header": null,
  "print_designer_preview_img": null,
  "print_designer_print_format": null,
  "print_designer_settings": null,
  "print_designer_template_app": "print_designer",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"Credit Note\" if doc.is_return == 1 and doc.docstatus == 1 else\n      \"Draft Credit Note\" if doc.is_return == 1 and doc.docstatus == 0 else\n      \"Proforma Invoice\" if doc.docstatus == 0 else\n      \"Tax Invoice\" if doc.docstatus == 1 else\n      \"Invoice\"\n  ) -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif; /* Keep same font but larger size for header */\n  }\n\n  .section { margin-bottom:1px; } /* Reduced from 4px */\n\n  .section-title {\n    font-size:13px; /* Changed from 12px to 13px */\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:1px;\n    font-family: Arial, sans-serif;\n  }\n\n  /* Add this to reduce header spacing if the issue is in the letterhead area */\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  /* Reduce any top margin on the first section */\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  /* Add styles for 3-column job details */\n  .job-details-table td {\n    padding:2px 4px;\n    vertical-align:top;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size:13px;\n  }\n\n  .job-table td {\n    padding:1px 2px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.1;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none; /* Changed from 2px solid #ddd to none */\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px; /* Changed from 12px to 13px */\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <!-- Add border element (must be inside body/print-format) -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer_name }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n          Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Invoice Date: {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Due Date: {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}<br>\n          Outstanding: {{ frappe.utils.fmt_money(doc.outstanding_amount, currency=doc.currency, format=\"#,##0.00\") }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Dynamic Job Details Section -->\n  {% if doc.is_clearing_invoice and doc.clearing_job_reference %}\n    {% set job = frappe.get_doc(\"Clearing Job\", doc.clearing_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Clearing Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.origin or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_forwarding_invoice and doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_road_freight_invoice and doc.road_freight_job_reference %}\n    {% set job = frappe.get_doc(\"Road Freight Job\", doc.road_freight_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Road Freight Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.port_of_discharge or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Shipment Type: {{ job.shipment_type or \"-\" }}<br>\n            Trucks Confirmed: {{ job.trucks_confirmed or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_trip_invoice and doc.trip_reference %}\n    {% set job = frappe.get_doc(\"Trip\", doc.trip_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Trip Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Truck: {{ job.horse or job.trailer or \"-\" }}<br>\n            Origin/Dest: {{ job.route or \"-\" }}<br>\n            Trip Type: {{ job.trip_direction or \"-\" }}<br>\n            Cargo Desc: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Trip Reference: {{ job.name }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Cargo Type: {{ job.cargo_type or \"-\" }}<br>\n            Container No: {{ job.container_number or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n  {% endif %}\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:55%\">Description</th>\n          <th class=\"rt\" style=\"width:13%\">Amount</th>\n          <th class=\"rt\" style=\"width:13%\">VAT</th>\n          <th class=\"rt\" style=\"width:14%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (vat_rate / 100)) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (1 + (vat_rate / 100))) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency, format=\"#,##0.00\") }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {% if doc.total_taxes_and_charges %}\n            {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency, format=\"#,##0.00\") }}\n          {% else %}\n            {{ frappe.utils.fmt_money(0, currency=doc.currency, format=\"#,##0.00\") }}\n          {% endif %}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency, format=\"#,##0.00\") }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! If you have any questions, please contact us.\n  </div>\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 0.0,
  "margin_left": 0.0,
  "margin_right": 0.0,
  "margin_top": 0.0,
  "modified": "2025-08-10 00:07:50.219923",
  "module": "FreightMas",
  "name": "FreightMas Sales Invoice 2",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_designer": 0,
  "print_designer_after_table": null,
  "print_designer_body": null,
  "print_designer_footer": null,
  "print_designer_header": null,
  "print_designer_preview_img": null,
  "print_designer_print_format": null,
  "print_designer_settings": null,
  "print_designer_template_app": "print_designer",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "Yes"
 }
]