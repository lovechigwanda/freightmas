[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"FREIGHT QUOTATION\" if doc.is_freight_quote else\n      \"QUOTATION\"\n  ) -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer_name, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  /* Prevent logo stretching in PDF output */\n  .letter-head img,\n  .letter-head .logo,\n  .letter-head .logo img,\n  .header-logo img,\n  .company-logo img {\n    max-width: 160px !important;    /* adjust as needed */\n    max-height: 90px !important;    /* adjust as needed */\n    width: auto !important;\n    height: auto !important;\n    object-fit: contain !important;\n    display: inline-block !important;\n  }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:1px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:2px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .job-table td {\n    padding:2px 2px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.1;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <!-- Add border element -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer_name }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Quotation No.: <strong>{{ doc.name }}</strong><br>\n          Date: {{ frappe.utils.formatdate(doc.transaction_date, \"dd-MMM-yy\") }}<br>\n          Valid Until: {{ frappe.utils.formatdate(doc.valid_till, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Freight Job Info -->\n  {% if doc.is_freight_quote %}\n  <div class=\"section\">\n    <div class=\"section-title\">Freight Service Details</div>\n    <table class=\"job-table\">\n      <tr>\n        <td>Job Type: {{ doc.job_type or \"-\" }}</td>\n        <td>Origin: {{ doc.origin_port or \"-\" }}</td>\n        <td>Destination: {{ doc.destination_port or \"-\" }}</td>\n      </tr>\n      <tr>\n        <td colspan=\"3\">Description: {{ doc.job_description or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n  {% endif %}\n\n  <!-- Quotation Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Quotation Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:45%\">Description</th>\n          <th class=\"cn\" style=\"width:10%\">QTY</th>\n          <th class=\"rt\" style=\"width:15%\">Rate</th>\n          <th class=\"rt\" style=\"width:15%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n        \n        {% if doc.is_freight_quote and doc.bundle_charges %}\n        {# Bundle charges: Show single consolidated service line for freight quotes only #}\n        {% set bundle_description = doc.job_type + \" Service\" %}\n        <tr>\n          <td class=\"cn\">1</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ bundle_description }}</span>\n          </td>\n          <td class=\"cn\">1</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n        </tr>\n        {% else %}\n        {# Regular detailed line items #}\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"cn\">{{ item.qty or 1 }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.rate or 0) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency, format=\"#,##0.00\") }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {% if doc.total_taxes_and_charges %}\n            {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency, format=\"#,##0.00\") }}\n          {% else %}\n            {{ frappe.utils.fmt_money(0, currency=doc.currency, format=\"#,##0.00\") }}\n          {% endif %}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency, format=\"#,##0.00\") }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Terms and Conditions -->\n  {% if doc.tc_name %}\n    {% set terms_doc = frappe.get_doc(\"Terms and Conditions\", doc.tc_name) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Terms & Conditions</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"font-size: 10px; line-height: 1.3; text-align: justify;\">{{ terms_doc.terms|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</td>\n        </tr>\n      </table>\n      <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n    </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for the opportunity to quote. Please reach out if you have any questions.\n  </div>\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 00:27:57.810696",
  "module": "FreightMas",
  "name": "FreightMas Quotation",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"Credit Note\" if doc.is_return == 1 and doc.docstatus == 1 else\n      \"Draft Credit Note\" if doc.is_return == 1 and doc.docstatus == 0 else\n      \"Proforma Invoice\" if doc.docstatus == 0 else\n      \"Tax Invoice\" if doc.docstatus == 1 else\n      \"Invoice\"\n  ) -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  /* Prevent logo stretching in PDF output - matching quotation size */\n  .letter-head img,\n  .letter-head .logo,\n  .letter-head .logo img,\n  .header-logo img,\n  .company-logo img {\n    max-width: 160px !important;\n    max-height: 90px !important;\n    width: auto !important;\n    height: auto !important;\n    object-fit: contain !important;\n    display: inline-block !important;\n  }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:1px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:1px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .job-details-table td {\n    padding:2px 4px;\n    vertical-align:top;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size:13px;\n  }\n\n  .job-table td {\n    padding:1px 2px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.1;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <!-- Add border element -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer_name }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n          Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Invoice Date: {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Due Date: {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}<br>\n          Outstanding: {{ doc.currency }} {{ \"{:,.2f}\".format(doc.outstanding_amount or 0) }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Dynamic Job Details Section -->\n  {% if doc.is_clearing_invoice and doc.clearing_job_reference %}\n    {% set job = frappe.get_doc(\"Clearing Job\", doc.clearing_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Clearing Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.origin or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_forwarding_invoice and doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_road_freight_invoice and doc.road_freight_job_reference %}\n    {% set job = frappe.get_doc(\"Road Freight Job\", doc.road_freight_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Road Freight Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.port_of_discharge or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Shipment Type: {{ job.shipment_type or \"-\" }}<br>\n            Trucks Confirmed: {{ job.trucks_confirmed or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_trip_invoice and doc.trip_reference %}\n    {% set job = frappe.get_doc(\"Trip\", doc.trip_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Trip Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Truck: {{ job.horse or job.trailer or \"-\" }}<br>\n            Origin/Dest: {{ job.route or \"-\" }}<br>\n            Trip Type: {{ job.trip_direction or \"-\" }}<br>\n            Cargo Desc: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Trip Reference: {{ job.name }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Cargo Type: {{ job.cargo_type or \"-\" }}<br>\n            Container No: {{ job.container_number or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n  {% endif %}\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:55%\">Description</th>\n          <th class=\"rt\" style=\"width:13%\">Amount</th>\n          <th class=\"rt\" style=\"width:13%\">VAT</th>\n          <th class=\"rt\" style=\"width:14%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n\n        {% if doc.bundle_charges %}\n          {% set bundle_description = \"Service\" %}\n          {% if doc.is_trip_invoice %}\n            {% set bundle_description = \"Trip Service\" %}\n          {% elif doc.is_clearing_invoice %}\n            {% set bundle_description = \"Clearing Service\" %}\n          {% elif doc.is_road_freight_invoice %}\n            {% set bundle_description = \"Road Freight Service\" %}\n          {% elif doc.is_forwarding_invoice %}\n            {% set bundle_description = \"Forwarding Service\" %}\n          {% endif %}\n          <tr>\n            <td class=\"cn\">1</td>\n            <td class=\"item-description\">\n              <span class=\"item-name\">{{ bundle_description }}</span>\n            </td>\n            <td class=\"rt\">{{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n            <td class=\"rt\">\n              {{ \"{:,.2f}\".format(doc.total_taxes_and_charges or 0) }}\n            </td>\n            <td class=\"rt\">{{ \"{:,.2f}\".format(doc.grand_total or doc.total or 0) }}</td>\n          </tr>\n        {% else %}\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (vat_rate / 100)) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (1 + (vat_rate / 100))) }}</td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ doc.currency }} {{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {{ doc.currency }} {{ \"{:,.2f}\".format(doc.total_taxes_and_charges or 0) }}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ doc.currency }} {{ \"{:,.2f}\".format(doc.grand_total or 0) }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <!-- Payment Terms -->\n  {% if doc.payment_terms_template %}\n    {% set terms_rows = frappe.get_all(\"Payment Terms Template Detail\", filters={\"parent\": doc.payment_terms_template}, fields=[\"description\", \"days\", \"payment_amount\"], order_by=\"idx\") %}\n    <div class=\"section\">\n      <div class=\"section-title\">Payment Terms</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"font-size:12px; line-height:1.3; text-align:justify;\">\n            {% if terms_rows and terms_rows|length > 0 %}\n              <ul style=\"margin:0 0 0 18px; padding:0;\">\n                {% for row in terms_rows %}\n                  {% set desc = (row.description or \"\")|striptags|replace('\\n', ' ')|replace('\\r', ' ') %}\n                  {% if desc %}\n                    <li>{{ desc }}</li>\n                  {% else %}\n                    <li>\n                      {% if row.payment_amount %}\n                        {{ row.payment_amount }}{% if row.days %} — due in {{ row.days }} days{% endif %}\n                      {% elif row.days %}\n                        Due in {{ row.days }} days\n                      {% else %}\n                        {{ doc.payment_terms_template }}\n                      {% endif %}\n                    </li>\n                  {% endif %}\n                {% endfor %}\n              </ul>\n            {% else %}\n              {{ doc.payment_terms_template }}\n            {% endif %}\n          </td>\n        </tr>\n      </table>\n      <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n    </div>\n  {% endif %}\n\n  <!-- Terms and Conditions -->\n  {% if doc.tc_name %}\n    {% set terms_doc = frappe.get_doc(\"Terms and Conditions\", doc.tc_name) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Terms & Conditions</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"font-size: 12px; line-height: 1.4; text-align: justify;\">{{ terms_doc.terms|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</td>\n        </tr>\n      </table>\n      <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n    </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! If you have any questions, please contact us.\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 00:48:56.449403",
  "module": "FreightMas",
  "name": "FreightMas Sales Invoice",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"Proforma Invoice\" if doc.docstatus == 0 else\n      \"Sales Invoice\"\n  ) -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer_name, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:8px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:8px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:4px;\n    padding-bottom:2px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  /* Fix logo stretching in PDF - Multiple approaches */\n  .letter-head img,\n  .print-format .letter-head img,\n  div[class*=\"letter\"] img {\n    max-height: 35px !important;\n    max-width: 150px !important;\n    height: auto !important;\n    width: auto !important;\n    object-fit: contain !important;\n    -webkit-print-color-adjust: exact !important;\n    print-color-adjust: exact !important;\n  }\n\n  /* Additional PDF-specific fix */\n  @media print {\n    .letter-head img {\n      max-height: 35px !important;\n      width: auto !important;\n      height: auto !important;\n    }\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .subscription-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .subscription-table td {\n    padding:4px 6px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.3;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:4px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:4px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.3;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:4px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.2;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:12px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.2; }\n\n  .section:last-of-type { margin-bottom:8px; }\n\n  .subscription-badge {\n    display:inline-block;\n    padding:2px 8px;\n    background:#f0f9ff;\n    border:1px solid #0284c7;\n    color:#0284c7;\n    font-size:11px;\n    font-weight:600;\n    border-radius:3px;\n    margin-left:8px;\n  }\n  </style>\n\n  <!-- Add border element -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer_name }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n          Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Invoice Date: {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Due Date: {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}<br>\n          Outstanding: {{ doc.currency }} {{ \"{:,.2f}\".format(doc.outstanding_amount or 0) }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Subscription Details -->\n  <div class=\"section\">\n    <div class=\"section-title\">Subscription Service Details</div>\n    <table class=\"subscription-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>Subscription Plan:</strong><br>\n          {{ doc.subscription or \"FreightMas Cloud Hosting\" }}\n        </td>\n        <td style=\"width: 50%;\">\n          <strong>Billing Period:</strong><br>\n          {{ frappe.utils.formatdate(doc.from_date, \"dd-MMM-yy\") }} to \n          {{ frappe.utils.formatdate(doc.to_date, \"dd-MMM-yy\") }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:50%\">Description</th>\n          <th class=\"cn\" style=\"width:10%\">QTY</th>\n          <th class=\"rt\" style=\"width:13%\">Rate</th>\n          <th class=\"rt\" style=\"width:13%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>\n            {% if item.get(\"custom_is_subscription\") %}\n              <span class=\"subscription-badge\">SUBSCRIPTION</span>\n            {% endif %}\n            {% if item.description %}<br><span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"cn\">{{ item.qty or 1 }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.rate or 0) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ doc.currency }} {{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>Discount</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {{ doc.currency }} {{ \"{:,.2f}\".format(doc.discount_amount or 0) }}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ doc.currency }} {{ \"{:,.2f}\".format(doc.grand_total or 0) }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <!-- Terms and Conditions -->\n  {% if doc.tc_name %}\n    {% set terms_doc = frappe.get_doc(\"Terms and Conditions\", doc.tc_name) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Terms & Conditions</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"font-size: 10px; line-height: 1.3; text-align: justify;\">{{ terms_doc.terms|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</td>\n        </tr>\n      </table>\n      <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n    </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! For support, please contact support@freightmas.co.zw\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 01:02:49.639720",
  "module": "FreightMas",
  "name": "FM Subs",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"Debit Note\" if doc.is_return == 1 and doc.docstatus == 1 else\n      \"Draft Debit Note\" if doc.is_return == 1 and doc.docstatus == 0 else\n      \"Draft Purchase Invoice\" if doc.docstatus == 0 else\n      \"Purchase Invoice\" if doc.docstatus == 1 else\n      \"Purchase Invoice\"\n  ) -%}\n\n  {%- set supp_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.supplier, \"link_doctype\": \"Supplier\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif; /* Keep same font but larger size for header */\n  }\n\n  .section { margin-bottom:1px; } /* Reduced from 4px */\n\n  .section-title {\n    font-size:13px; /* Changed from 12px to 13px */\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:1px;\n    font-family: Arial, sans-serif;\n  }\n\n  /* Add this to reduce header spacing if the issue is in the letterhead area */\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  /* Fix logo stretching in PDF - Multiple approaches */\n  .letter-head img,\n  .print-format .letter-head img,\n  div[class*=\"letter\"] img {\n    max-height: 35px !important;\n    max-width: 150px !important;\n    height: auto !important;\n    width: auto !important;\n    object-fit: contain !important;\n    -webkit-print-color-adjust: exact !important;\n    print-color-adjust: exact !important;\n  }\n\n  /* Additional PDF-specific fix */\n  @media print {\n    .letter-head img {\n      max-height: 35px !important;\n      width: auto !important;\n      height: auto !important;\n    }\n  }\n\n  /* Reduce any top margin on the first section */\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  /* Add styles for 3-column job details */\n  .job-details-table td {\n    padding:2px 4px;\n    vertical-align:top;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size:13px;\n  }\n\n  .job-table td {\n    padding:1px 2px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.1;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none; /* Changed from 2px solid #ddd to none */\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px; /* Changed from 12px to 13px */\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <!-- Add border element (must be inside body/print-format) -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Supplier Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>From:</strong><br>\n          <strong>{{ doc.supplier_name }}</strong><br>\n          {% if supp_addr %}\n            {{ supp_addr[0].address_line1 or \"\" }}<br>\n            {% if supp_addr[0].address_line2 %}{{ supp_addr[0].address_line2 }}<br>{% endif %}\n            {{ supp_addr[0].city or \"\" }}, {{ supp_addr[0].country or \"\" }}<br>\n          {% endif %}\n          Tax ID No: {{ frappe.db.get_value(\"Supplier\", doc.supplier, \"tax_id\") or \"-\" }}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Bill No.: <strong>{{ doc.name }}</strong><br>\n          Invoice Date: {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Due Date: {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}<br>\n          Outstanding: {{ frappe.utils.fmt_money(doc.outstanding_amount, currency=doc.currency, format=\"#,##0.00\") }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Dynamic Job Details Section (keeps same checks as original; adjust if you use different flags on Purchase Invoice) -->\n  {% if doc.is_clearing_invoice and doc.clearing_job_reference %}\n    {% set job = frappe.get_doc(\"Clearing Job\", doc.clearing_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Clearing Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.origin or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_forwarding_invoice and doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_road_freight_invoice and doc.road_freight_job_reference %}\n    {% set job = frappe.get_doc(\"Road Freight Job\", doc.road_freight_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Road Freight Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.port_of_discharge or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ job.direction or \"-\" }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Shipment Type: {{ job.shipment_type or \"-\" }}<br>\n            Trucks Confirmed: {{ job.trucks_confirmed or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.is_trip_invoice and doc.trip_reference %}\n    {% set job = frappe.get_doc(\"Trip\", doc.trip_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Trip Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Truck: {{ job.horse or job.trailer or \"-\" }}<br>\n            Origin/Dest: {{ job.route or \"-\" }}<br>\n            Trip Type: {{ job.trip_direction or \"-\" }}<br>\n            Cargo Desc: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Trip Reference: {{ job.name }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            Cargo Type: {{ job.cargo_type or \"-\" }}<br>\n            Container No: {{ job.container_number or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n\n  {% elif doc.forwarding_job_reference %}\n    {% set job = frappe.get_doc(\"Forwarding Job\", doc.forwarding_job_reference) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Forwarding Job Details</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"width: 50%;\">\n            Consignee: {{ job.consignee or \"-\" }}<br>\n            Origin/Dest: {{ job.port_of_loading or \"-\" }} → {{ job.destination or \"-\" }}<br>\n            Cargo Desc.: {{ job.cargo_description or \"-\" }}\n          </td>\n          <td style=\"width: 50%;\">\n            Job Reference: {{ job.name }}<br>\n            Job Type: {{ (job.shipment_mode or \"\") ~ \" \" ~ (job.direction or \"\") }}<br>\n            Client Reference: {{ job.customer_reference or \"-\" }}<br>\n            BL Number: {{ job.bl_number or \"-\" }}<br>\n            Cargo Count: {{ job.cargo_count or \"-\" }}\n          </td>\n        </tr>\n      </table>\n    </div>\n  {% endif %}\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:55%\">Description</th>\n          <th class=\"rt\" style=\"width:13%\">Amount</th>\n          <th class=\"rt\" style=\"width:13%\">VAT</th>\n          <th class=\"rt\" style=\"width:14%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% set vat_rate = frappe.db.get_value(\"Purchase Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>{% if item.description %} - <span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (vat_rate / 100)) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (1 + (vat_rate / 100))) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.total, currency=doc.currency, format=\"#,##0.00\") }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT ({{ \"%.0f\"|format(vat_rate) }}%)</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {% if doc.total_taxes_and_charges %}\n            {{ frappe.utils.fmt_money(doc.total_taxes_and_charges, currency=doc.currency, format=\"#,##0.00\") }}\n          {% else %}\n            {{ frappe.utils.fmt_money(0, currency=doc.currency, format=\"#,##0.00\") }}\n          {% endif %}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency, format=\"#,##0.00\") }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! If you have any questions, please contact us.\n  </div>\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 01:06:23.909140",
  "module": "FreightMas",
  "name": "FreightMas Purchase Invoice",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n{{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n{%- set heading_label = (\n    \"Proforma Invoice\" if doc.docstatus == 0 else\n    \"Tax Invoice\" if doc.docstatus == 1 else\n    \"Invoice\"\n) -%}\n\n{%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n<style>\n  body {\n    font-family: 'Inter', sans-serif;\n    font-size: 12px;\n    line-height: 1.4;\n    color: #000;\n  }\n\n  /* Prevent logo stretching in PDF output - matching quotation/sales invoice size */\n  .letter-head img,\n  .letter-head .logo,\n  .letter-head .logo img,\n  .header-logo img,\n  .company-logo img {\n    max-width: 160px !important;\n    max-height: 90px !important;\n    width: auto !important;\n    height: auto !important;\n    object-fit: contain !important;\n    display: inline-block !important;\n  }\n\n  .lf  { text-align: left; }\n  .cn  { text-align: center; }\n  .rt  { text-align: right; }\n  .sm  { font-size: small; }\n  .lg  { font-size: large; }\n  .b   { font-weight: bold; }\n\n  .custom-heading {\n    font-size: 20px;\n    font-weight: bold;\n    text-align: center;\n    margin-top: -15px;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n    color: #000;\n  }\n\n  .print-heading,\n  .print-heading + div {\n    display: none !important;\n  }\n\n  .table, .table th, .table td {\n    border: 1px solid #000;\n    border-collapse: collapse;\n    font-size: 12px;\n    padding: 0px;\n    color: #000;\n    vertical-align: top;\n  }\n\n  .trip-table {\n    font-size: 12px;\n    line-height: 0.3;\n    border-collapse: collapse;\n    margin-top: 3px;\n    border: 1px solid #888;\n  }\n\n  .trip-table td {\n    padding: 0px 2px;\n    vertical-align: top;\n    border: 1px solid #ccc;\n    line-height: 0.3;\n    color: #000;\n  }\n\n  .trip-table td strong {\n    font-weight: normal;\n  }\n\n  .items-table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n\n  .items-table thead {\n    display: table-header-group;\n  }\n\n  .items-table th {\n    font-weight: bold;\n    font-size: 13px;\n    color: #000;\n    vertical-align: top;\n    border: 1px solid #000 !important;\n  }\n\n  .items-table td {\n    color: #000;\n    vertical-align: top;\n    border: 1px solid #000 !important;\n  }\n\n  .summary-table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n\n  .summary-table thead {\n    display: table-header-group;\n  }\n\n  .summary-table td {\n    border: 1px solid #000;\n    font-size: 12px;\n    padding: 2px;\n  }\n\n  .section-title {\n    margin: 0;\n    font-size: 13px;\n    font-weight: bold;\n  }\n\n  .sm strong {\n    font-weight: normal;\n  }\n</style>\n\n<!-- ✅ HEADER SECTION -->\n<div class=\"page-header\">\n  <div class=\"custom-heading\">{{ heading_label }}</div>\n\n  <table style=\"width: 100%; border-collapse: collapse; font-size: 12px; line-height: 0;\">\n    <colgroup>\n      <col style=\"width: 50%;\">\n      <col style=\"width: 20%;\">\n      <col style=\"width: 30%;\">\n    </colgroup>\n    <tr><td><strong>To:</strong></td><td><strong>Invoice No.:</strong></td><td style=\"white-space: nowrap;\"><strong>{{ doc.name }}</strong></td></tr>\n    <tr><td><strong>{{ doc.customer_name }}</strong></td><td>Posting Date:</td><td style=\"white-space: nowrap;\">{{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}</td></tr>\n    <tr><td>{% if cust_addr %}{{ cust_addr[0].address_line1 or \"\" }}{% endif %}</td><td>Due Date:</td><td style=\"white-space: nowrap;\">{{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}</td></tr>\n    <tr><td>{% if cust_addr %}{{ cust_addr[0].address_line2 or \"\" }}{% endif %}</td><td>Currency:</td><td style=\"white-space: nowrap;\">{{ doc.currency }}</td></tr>\n    <tr><td>{% if cust_addr %}{{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}{% endif %}</td><td>Status:</td><td style=\"white-space: nowrap;\">{{ doc.status }}</td></tr>\n    <tr><td>Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}</td><td>Outstanding:</td><td style=\"white-space: nowrap;\">{{ doc.currency }} {{ \"{:,.2f}\".format(doc.outstanding_amount or 0) }}</td></tr>\n  </table>\n</div>\n\n<!-- ✅ MAIN CONTENT -->\n<p class=\"section-title\" style=\"margin-top: 5px;\"><strong>Trip Details</strong></p>\n\n{% if doc.trip_reference %}\n  {% set trip = frappe.get_doc(\"Trip\", doc.trip_reference) %}\n  <table class=\"trip-table\" style=\"width: 100%; table-layout: fixed;\">\n    <colgroup>\n      <col style=\"width: 15%;\">\n      <col style=\"width: 30%;\">\n      <col style=\"width: 20%;\">\n      <col style=\"width: 35%;\">\n    </colgroup>\n    <tr><td><strong>Origin:</strong></td><td>{{ trip.origin }}</td><td><strong>Trip Reference:</strong></td><td>{{ trip.name }}</td></tr>\n    <tr><td><strong>Destination:</strong></td><td>{{ trip.destination }}</td><td><strong>Client Reference:</strong></td><td>{{ trip.customer_reference or \"-\" }}</td></tr>\n    <tr><td><strong>Drop Off At:</strong></td><td>{{ trip.drop_off_at }}</td><td><strong>Cargo Type:</strong></td><td>{{ trip.cargo_type }}</td></tr>\n    <tr><td><strong>Horse:</strong></td><td>{{ trip.truck }}</td><td><strong>Cargo Desc.:</strong></td><td>{{ trip.cargo_description }}</td></tr>\n    <tr><td><strong>Trailer:</strong></td><td>{{ trip.trailer }}</td><td><strong>Container No:</strong></td><td>{{ trip.container_number or \"-\" }}</td></tr>\n  </table>\n{% endif %}\n\n<p class=\"section-title\" style=\"margin-top: 20px;\"><strong>Invoice Item Details</strong></p>\n\n{% set vat_rate = frappe.db.get_value(\"Sales Taxes and Charges\", {\"parent\": doc.name}, \"rate\") or 0 %}\n<table class=\"table items-table\" style=\"margin-top: 3px;\">\n  <thead>\n    <tr>\n      <th style=\"width: 5%;\">Sr.</th>\n      <th style=\"width: 14%;\">Item Name</th>\n      <th style=\"width: 45%;\">Description</th>\n      <th class=\"rt\" style=\"width: 13%;\">Amount (Excl.)</th>\n      <th class=\"rt\" style=\"width: 10%;\">VAT</th>\n      <th class=\"rt\" style=\"width: 13%;\">Amount (Incl.)</th>\n    </tr>\n  </thead>\n  <tbody>\n    {% for item in doc.items %}\n    <tr>\n      <td class=\"rt\">{{ item.idx }}</td>\n      <td>{{ item.item_name }}</td>\n      <td>{{ item.description or \"-\" }}</td>\n      <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n      <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (vat_rate / 100)) }}</td>\n      <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount * (1 + (vat_rate / 100))) }}</td>\n    </tr>\n    {% endfor %}\n  </tbody>\n</table>\n\n<!-- ✅ SUMMARY TABLE -->\n<table class=\"summary-table\" style=\"width: 100%; margin-top: 3px; margin-bottom: 3px;\">\n  <thead>\n    <tr style=\"display: none;\"><th></th><th></th><th></th></tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td rowspan=\"3\" style=\"width: 65%; border: 1px solid #000; padding: 4px; vertical-align: top;\">\n        {% if doc.payment_terms_template %}\n          <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n        {% endif %}\n      </td>\n      <td style=\"width: 15%;\">Sub Total</td>\n      <td class=\"rt\" style=\"width: 20%;\">{{ doc.currency }} {{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n    </tr>\n    <tr>\n      <td style=\"width: 15%;\">VAT</td>\n      <td class=\"rt\" style=\"width: 20%;\">\n        {% if doc.total_taxes_and_charges %}\n          {{ doc.currency }} {{ \"{:,.2f}\".format(doc.total_taxes_and_charges or 0) }}\n        {% else %}\n          -\n        {% endif %}\n      </td>\n    </tr>\n    <tr>\n      <td style=\"width: 15%;\"><strong>Grand Total</strong></td>\n      <td class=\"rt\" style=\"width: 20%;\"><strong>{{ doc.currency }} {{ \"{:,.2f}\".format(doc.grand_total or 0) }}</strong></td>\n    </tr>\n  </tbody>\n</table>\n\n<p class=\"sm rt\" style=\"margin-top: 3px;\">Amount in Words: {{ doc.in_words or \"\" }}</p>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 00:54:39.131679",
  "module": "Trucking Service",
  "name": "Trip Sales Invoice",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Trip Bulk Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  <!-- Custom Letterhead -->\n  <table style='width: 100%; margin: 0; padding: 0; border-collapse: collapse; font-family: \"Inter\", sans-serif; margin-bottom: 8px;'>\n    <tbody>\n      <tr>\n        <td style=\"width: 130px; margin: 0; padding: 0; vertical-align: top;\">\n          {% set company_image = frappe.db.get_value('Company', doc.company, 'company_logo') %}\n          {% if company_image %}\n            <img src=\"{{ company_image }}\" style=\"width: 130px; height: 50px; object-fit: contain; display: block; margin: 0; padding: 0;\">\n          {% endif %}\n        </td>\n        <td style=\"text-align: right; margin: 0; padding: 0; vertical-align: top; line-height: 1.2;\">\n          <div style=\"font-size: 13px; font-weight: 700; margin: 0 0 2px 0; color: #000;\">\n            {{ doc.company }}\n          </div>\n\n          {% set address = frappe.get_all(\"Address\", filters={\"link_doctype\": \"Company\", \"link_name\": doc.company}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) or [] %}\n          {% if address %}\n            <div style=\"margin: 0 0 2px 0; font-size: 11px; line-height: 1.2; color: #000;\">\n              {{ address[0].address_line1 or \"\" }}{% if address[0].address_line2 %}, {{ address[0].address_line2 }}{% endif %}<br>\n              {{ address[0].city or \"\" }}{% if address[0].country %}, {{ address[0].country }}{% endif %}\n            </div>\n          {% endif %}\n\n          <div style=\"margin: 0; font-size: 11px; line-height: 1.2; color: #000;\">\n            {% set phone = frappe.db.get_value(\"Company\", doc.company, \"phone_no\") %}\n            {% set email = frappe.db.get_value(\"Company\", doc.company, \"email\") %}\n            {% set tax_id = frappe.db.get_value(\"Company\", doc.company, \"tax_id\") %}\n            \n            {% if phone %}{{ phone }}{% endif %}{% if phone and email %} | {% endif %}{% if email %}{{ email }}{% endif %}<br>\n            {% if tax_id %}Tax ID: {{ tax_id }}{% endif %}\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  {%- set heading_label = \"Sales Invoice\" -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {%- set border_inset = 0 -%}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:1px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:1px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Date: {{ frappe.utils.formatdate(doc.date_created or doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Route: {{ doc.route }}<br>\n          Trip Direction: {{ doc.trip_direction }}<br>\n          Cargo Type: {{ doc.cargo_type }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:70%\">Description</th>\n          <th class=\"rt\" style=\"width:7%\">Qty</th>\n          <th class=\"rt\" style=\"width:10%\">Rate</th>\n          <th class=\"rt\" style=\"width:13%\">Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in doc.trip_bulk_sales_invoice_item %}\n        <tr>\n          <td class=\"cn\">{{ loop.index }}</td>\n          <td class=\"item-description\">\n            {{ item.charge }}{% if item.description %} - {{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}{% endif %}{% if item.truck %} - {{ item.truck }}{% endif %}{% if item.sales_invoice %} Ref: {{ item.sales_invoice }}{% endif %}\n          </td>\n          <td class=\"rt\">{{ item.qty }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.rate) }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\"></td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.sub_total) }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {{ frappe.utils.fmt_money(doc.vat) }}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total) }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Banking Details -->\n  {% if doc.banking_details %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 100%;\">\n          {{ doc.banking_details }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! If you have any questions, please contact us.\n  </div>",
  "line_breaks": 0,
  "margin_bottom": 0.0,
  "margin_left": 0.0,
  "margin_right": 0.0,
  "margin_top": 0.0,
  "modified": "2025-08-18 21:28:38.916258",
  "module": "Trucking Service",
  "name": "Trip Bulk Sales Invoice",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Trip Bulk Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  <!-- Custom Letterhead -->\n  <table style='width: 100%; margin: 0; padding: 0; border-collapse: collapse; font-family: \"Inter\", sans-serif; margin-bottom: 8px;'>\n    <tbody>\n      <tr>\n        <td style=\"width: 130px; margin: 0; padding: 0; vertical-align: top;\">\n          {% set company_image = frappe.db.get_value('Company', doc.company, 'company_logo') %}\n          {% if company_image %}\n            <img src=\"{{ company_image }}\" style=\"width: 130px; height: 50px; object-fit: contain; display: block; margin: 0; padding: 0;\">\n          {% endif %}\n        </td>\n        <td style=\"text-align: right; margin: 0; padding: 0; vertical-align: top; line-height: 1.2;\">\n          <div style=\"font-size: 13px; font-weight: 700; margin: 0 0 2px 0; color: #000;\">\n            {{ doc.company }}\n          </div>\n\n          {% set address = frappe.get_all(\"Address\", filters={\"link_doctype\": \"Company\", \"link_name\": doc.company}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) or [] %}\n          {% if address %}\n            <div style=\"margin: 0 0 2px 0; font-size: 11px; line-height: 1.2; color: #000;\">\n              {{ address[0].address_line1 or \"\" }}{% if address[0].address_line2 %}, {{ address[0].address_line2 }}{% endif %}<br>\n              {{ address[0].city or \"\" }}{% if address[0].country %}, {{ address[0].country }}{% endif %}\n            </div>\n          {% endif %}\n\n          <div style=\"margin: 0; font-size: 11px; line-height: 1.2; color: #000;\">\n            {% set phone = frappe.db.get_value(\"Company\", doc.company, \"phone_no\") %}\n            {% set email = frappe.db.get_value(\"Company\", doc.company, \"email\") %}\n            {% set tax_id = frappe.db.get_value(\"Company\", doc.company, \"tax_id\") %}\n            \n            {% if phone %}{{ phone }}{% endif %}{% if phone and email %} | {% endif %}{% if email %}{{ email }}{% endif %}<br>\n            {% if tax_id %}Tax ID: {{ tax_id }}{% endif %}\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  {%- set heading_label = \"Sales Invoice\" -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {%- set border_inset = 0 -%}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:1px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:1px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:2px;\n    padding-bottom:1px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .job-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:3px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:3px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.15;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:3px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.1;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:8px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.05; }\n\n  .section:last-of-type { margin-bottom:4px; }\n  </style>\n\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Date: {{ frappe.utils.formatdate(doc.date_created or doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Route: {{ doc.route }}<br>\n          Trip Direction: {{ doc.trip_direction }}<br>\n          Cargo Type: {{ doc.cargo_type }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:70%\">Description</th>\n          <th class=\"rt\" style=\"width:7%\">Qty</th>\n          <th class=\"rt\" style=\"width:10%\">Rate</th>\n          <th class=\"rt\" style=\"width:13%\">Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in doc.trip_bulk_sales_invoice_item %}\n        <tr>\n          <td class=\"cn\">{{ loop.index }}</td>\n          <td class=\"item-description\">\n            {{ item.charge }}{% if item.description %} - {{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}{% endif %}{% if item.truck %} - {{ item.truck }}{% endif %}{% if item.sales_invoice %} Ref: {{ item.sales_invoice }}{% endif %}\n          </td>\n          <td class=\"rt\">{{ item.qty }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.rate) }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\"></td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ frappe.utils.fmt_money(doc.sub_total) }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>VAT</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {{ frappe.utils.fmt_money(doc.vat) }}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ frappe.utils.fmt_money(doc.grand_total) }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! If you have any questions, please contact us.\n  </div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 00:58:10.800055",
  "module": "Trucking Service",
  "name": "FreightMas TBSI",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  <style>\n    html, body { margin:0; padding:0; font-family: Arial, sans-serif; font-size: 13px; }\n    .main-container { padding: 8px; }\n    .heading-label { font-size:20px; font-weight:700; text-align:center; margin-bottom:8px; }\n    .section { margin-bottom: 7px; }\n    .section-title { font-size:14px; font-weight:600; border-bottom:1px solid #000; margin-bottom:2px; }\n    .info-table, .cost-table, .items-table { width:100%; border-collapse:collapse; }\n    .info-table td, .cost-table td { padding:2px 4px; font-size:13px; }\n    .items-table th, .items-table td { padding:0px 4px; font-size:13px; }\n    .info-table, .cost-table { line-height:0.6; }\n    .items-table tr { line-height:1.0; }\n    .items-table th,\n    .items-table .total-row {\n      background: #f5f5f5;\n      border-bottom: 1px solid #ccc;\n      color: #222;\n      font-weight: 700;\n    }\n    .rt { text-align:right; }\n    .cn { text-align:center; }\n    .bold { font-weight:600; }\n    .job-description { \n      line-height: 1.4; \n      padding: 6px 4px; \n      white-space: pre-wrap; \n      word-wrap: break-word; \n      max-width: 100%; \n    }\n    .job-description-section { \n      margin-bottom: 10px; \n    }\n  </style>\n\n  <div class=\"heading-label\">Quotation Cost Sheet</div>\n\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td><strong>Quotation No.:</strong> {{ doc.name }}</td>\n        <td class=\"rt\"><strong>Date:</strong> {{ frappe.utils.formatdate(doc.transaction_date, \"dd-MMM-yy\") }}</td>\n      </tr>\n      <tr>\n        <td><strong>Customer:</strong> {{ doc.customer_name }}</td>\n        <td class=\"rt\"><strong>Job Type:</strong> {{ doc.job_type or \"-\" }}</td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section job-description-section\">\n    <div class=\"job-description\">\n      <strong>Job Description:</strong> {{ doc.job_description or \"-\" }}\n    </div>\n  </div>\n\n  <div class=\"section\" style=\"margin-bottom: 4px;\">\n    <div class=\"section-title\">Cost & Revenue Summary</div>\n    <table class=\"cost-table\" style=\"margin-bottom: 0;\">\n      <tr>\n        <td>Expected Revenue</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.est_revenue or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Expected Cost</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.est_cost or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Expected Profit (Margin)</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.est_profit or ((doc.est_revenue or 0) - (doc.est_cost or 0)), currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Margin %</td>\n        <td class=\"rt\"><span class=\"bold\">\n          {% if doc.est_revenue %}\n            {{ (((doc.est_profit or ((doc.est_revenue or 0) - (doc.est_cost or 0))) / (doc.est_revenue or 1)) * 100) | round(2) }}%\n          {% else %}\n            0%\n          {% endif %}\n        </span></td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section\">\n    <div class=\"section-title\">Item Breakdown</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width:30%\">Description</th>\n          <th style=\"width:20%\">Supplier</th>\n          <th class=\"rt\" style=\"width:15%\">Revenue</th>\n          <th class=\"rt\" style=\"width:15%\">Cost</th>\n          <th class=\"rt\" style=\"width:15%\">Margin</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in doc.items %}\n        <tr>\n          <td>{{ item.item_name }}</td>\n          <td>{{ item.supplier or \"-\" }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(item.cost_amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">\n            {{ frappe.utils.fmt_money((item.amount or 0) - (item.cost_amount or 0), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n        {% endfor %}\n        <tr class=\"total-row\">\n          <td class=\"bold\" colspan=\"2\">Total</td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.items | sum(attribute='amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.items | sum(attribute='cost_amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money((doc.items | sum(attribute='amount')) - (doc.items | sum(attribute='cost_amount')), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div style=\"margin-top:20px; font-size:12px; color:#888;\">\n    <em>For internal use only. Not for customer distribution.</em>\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 00:40:19.358982",
  "module": "Selling",
  "name": "Quotation Cost Sheet",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Forwarding Job",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<!-- Forwarding Job Cost Sheet - Simplified: Quoted vs Invoiced -->\n{%- set no_default_print_heading = 1 -%}\n{% set cost_data = doc.get_charge_details_for_cost_sheet() or {} %}\n{% set party_data = doc.get_party_details_for_cost_sheet() or {} %}\n{% set totals = doc.get_job_totals_summary() or {} %}\n<div class=\"print-format\">\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { font-family: Arial, sans-serif; font-size: 11px; color: #000; line-height: 1.3; background: #fff; }\n    .print-format { width: 100%; max-width: 100%; padding: 15px; }\n    \n    /* Header Styling */\n    .header-title { \n      text-align: center; \n      font-size: 16px; \n      font-weight: 700; \n      margin-bottom: 8px; \n      text-transform: uppercase; \n      color: #000;\n      letter-spacing: 0.3px;\n    }\n    \n    .header-subtitle {\n      text-align: center;\n      font-size: 14px;\n      color: #000;\n      margin-bottom: 12px;\n      line-height: 1.2;\n    }\n    \n    .header-table { \n      display: none;\n    }\n    \n    /* Section Titles */\n    .section-title { \n      font-weight: 700; \n      font-size: 13px; \n      margin: 12px 0 8px 0; \n      text-transform: uppercase; \n      color: #000;\n      background: #fff;\n      border-bottom: 2px solid #000;\n      padding: 7px 10px;\n      letter-spacing: 0.3px;\n    }\n    \n    /* Tables */\n    .summary-table, .charge-table, .party-table { \n      width: 100%; \n      border-collapse: collapse; \n      margin-bottom: 12px;\n      border: 1px solid #000;\n      background: #fff;\n    }\n    \n    .summary-table th, .charge-table th, .party-table th { \n      background-color: #fff; \n      color: #000;\n      padding: 6px 8px; \n      border: 1px solid #000;\n      text-align: right; \n      font-weight: 700; \n      font-size: 12px;\n      text-transform: uppercase;\n      letter-spacing: 0.2px;\n    }\n    \n    .summary-table th:first-child, .charge-table th:first-child, .party-table th:first-child {\n      text-align: left;\n    }\n    \n    .summary-table td, .charge-table td, .party-table td { \n      padding: 5px 8px; \n      border: 1px solid #000; \n      text-align: right; \n      font-size: 12px;\n      line-height: 1.2;\n    }\n    \n    /* No alternating rows - keep it clean */\n    .summary-table tbody tr:nth-child(odd), \n    .charge-table tbody tr:nth-child(odd), \n    .party-table tbody tr:nth-child(odd) { \n      background-color: #fff; \n    }\n    \n    /* First column alignment */\n    .summary-table td:first-child,\n    .charge-table td:first-child, \n    .party-table td:first-child { \n      text-align: left; \n      font-weight: 500;\n    }\n    \n    /* Total Row */\n    .total-row { \n      background-color: #fff; \n      font-weight: 700;\n      border-top: 2px solid #000;\n      border-bottom: 2px solid #000;\n    }\n    \n    /* Number Formatting */\n    .number { \n      text-align: right; \n      font-family: monospace;\n      letter-spacing: 0.1px;\n    }\n    \n    /* Color Indicators - Only for Variances */\n    .positive { \n      color: #008000; \n      font-weight: 700;\n    }\n    \n    .negative { \n      color: #cc0000; \n      font-weight: 700;\n    }\n    \n    /* Footer */\n    .footer { \n      margin-top: 15px; \n      text-align: center; \n      font-size: 9px; \n      color: #000; \n      border-top: 1px solid #000; \n      padding-top: 8px;\n    }\n    \n    /* Print Media */\n    @media print { \n      body { padding: 10px; margin: 0; }\n      .print-format { padding: 10px; }\n      .page-break { page-break-after: always; }\n      .summary-table, .charge-table, .party-table { page-break-inside: avoid; }\n    }\n    /* Page Numbers */\n    .page-number {\n      position: fixed;\n      bottom: 15px;\n      right: 15px;\n      font-size: 9px;\n      color: #000;\n    }\n    \n  </style>\n  <div class=\"header-title\">{{ doc.company or \"FreightMas\" }} - Forwarding Job Cost Sheet</div>\n  <div class=\"header-subtitle\">\n    Job No: {{ doc.name }} | Customer Ref: {{ doc.customer_reference or \"—\" }}<br>\n    Customer: {{ doc.customer }}, Mode: {{ (doc.shipment_mode or \"Sea\") ~ \" \" ~ (doc.direction or \"Import\") }} | Date: {{ doc.date_created }}\n  </div>\n  <table class=\"header-table\">\n  </table>\n  \n  <div class=\"section-title\">Costing Summary: Quoted vs Invoiced</div>\n  <table class=\"summary-table\">\n    <thead><tr><th>METRIC</th><th>QUOTED</th><th>INVOICED</th><th>VARIANCE</th></tr></thead>\n    <tbody>\n      <tr>\n        <td style=\"text-align:left; font-weight:bold;\">Revenue</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(doc.total_quoted_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(totals.invoiced_revenue or 0) }}</td>\n        <td class=\"number {% if (totals.invoiced_revenue or 0) - (doc.total_quoted_revenue or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((totals.invoiced_revenue or 0) - (doc.total_quoted_revenue or 0)) }}</td>\n      </tr>\n      <tr>\n        <td style=\"text-align:left; font-weight:bold;\">Cost</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(doc.total_quoted_cost or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(totals.invoiced_cost or 0) }}</td>\n        <td class=\"number {% if (doc.total_quoted_cost or 0) - (totals.invoiced_cost or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((doc.total_quoted_cost or 0) - (totals.invoiced_cost or 0)) }}</td>\n      </tr>\n      <tr class=\"total-row\">\n        <td style=\"text-align:left; font-weight:bold;\">Margin</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format((doc.total_quoted_revenue or 0) - (doc.total_quoted_cost or 0)) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format((totals.invoiced_revenue or 0) - (totals.invoiced_cost or 0)) }}</td>\n        <td class=\"number {% if ((totals.invoiced_revenue or 0) - (totals.invoiced_cost or 0)) - ((doc.total_quoted_revenue or 0) - (doc.total_quoted_cost or 0)) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format(((totals.invoiced_revenue or 0) - (totals.invoiced_cost or 0)) - ((doc.total_quoted_revenue or 0) - (doc.total_quoted_cost or 0))) }}</td>\n      </tr>\n      <tr class=\"total-row\">\n        <td style=\"text-align:left; font-weight:bold;\">Margin %</td>\n        <td class=\"number\">{{ \"%.1f\"|format(totals.quoted_margin_percent or 0) }}%</td>\n        <td class=\"number\">{{ \"%.1f\"|format(totals.invoiced_margin_percent or 0) }}%</td>\n        <td class=\"number\">—</td>\n      </tr>\n    </tbody>\n  </table>\n  \n  <div class=\"section-title\">Charge Breakdown: Quoted vs Invoiced</div>\n  <table class=\"charge-table\">\n    <thead><tr><th style=\"width:25%;\">CHARGE</th><th style=\"width:15%;\">QUOTED REVENUE</th><th style=\"width:15%;\">INVOICED REVENUE</th><th style=\"width:15%;\">QUOTED COST</th><th style=\"width:15%;\">INVOICED COST</th><th style=\"width:15%;\">NET VARIANCE</th></tr></thead>\n    <tbody>\n      {% for charge in cost_data.charges or [] %}\n      <tr>\n        <td>{{ charge.charge }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(charge.quoted_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(charge.invoiced_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(charge.quoted_cost or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(charge.invoiced_cost or 0) }}</td>\n        <td class=\"number {% if ((charge.invoiced_revenue or 0) - (charge.invoiced_cost or 0)) - ((charge.quoted_revenue or 0) - (charge.quoted_cost or 0)) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format(((charge.invoiced_revenue or 0) - (charge.invoiced_cost or 0)) - ((charge.quoted_revenue or 0) - (charge.quoted_cost or 0))) }}</td>\n      </tr>\n      {% endfor %}\n      <tr class=\"total-row\">\n        <td>TOTAL</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(cost_data.totals.quoted_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(cost_data.totals.invoiced_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(cost_data.totals.quoted_cost or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(cost_data.totals.invoiced_cost or 0) }}</td>\n        <td class=\"number {% if ((cost_data.totals.invoiced_revenue or 0) - (cost_data.totals.invoiced_cost or 0)) - ((cost_data.totals.quoted_revenue or 0) - (cost_data.totals.quoted_cost or 0)) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format(((cost_data.totals.invoiced_revenue or 0) - (cost_data.totals.invoiced_cost or 0)) - ((cost_data.totals.quoted_revenue or 0) - (cost_data.totals.quoted_cost or 0))) }}</td>\n      </tr>\n    </tbody>\n  </table>\n  \n  <div class=\"section-title\">Party Breakdown: Customers</div>\n  <table class=\"party-table\">\n    <thead><tr><th style=\"width:30%;\">CUSTOMER</th><th style=\"width:23%;\">QUOTED REVENUE</th><th style=\"width:23%;\">INVOICED REVENUE</th><th style=\"width:24%;\">VARIANCE</th></tr></thead>\n    <tbody>\n      {% for party in party_data.customers or [] %}\n      <tr>\n        <td>{{ party.party }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party.quoted_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party.invoiced_revenue or 0) }}</td>\n        <td class=\"number {% if (party.invoiced_revenue or 0) - (party.quoted_revenue or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((party.invoiced_revenue or 0) - (party.quoted_revenue or 0)) }}</td>\n      </tr>\n      {% endfor %}\n      <tr class=\"total-row\">\n        <td>TOTAL CUSTOMERS</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party_data.totals.quoted_revenue or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party_data.totals.invoiced_revenue or 0) }}</td>\n        <td class=\"number {% if (party_data.totals.invoiced_revenue or 0) - (party_data.totals.quoted_revenue or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((party_data.totals.invoiced_revenue or 0) - (party_data.totals.quoted_revenue or 0)) }}</td>\n      </tr>\n    </tbody>\n  </table>\n  \n  <div class=\"section-title\">Party Breakdown: Suppliers</div>\n  <table class=\"party-table\">\n    <thead><tr><th style=\"width:30%;\">SUPPLIER</th><th style=\"width:23%;\">QUOTED COST</th><th style=\"width:23%;\">INVOICED COST</th><th style=\"width:24%;\">VARIANCE</th></tr></thead>\n    <tbody>\n      {% for party in party_data.suppliers or [] %}\n      <tr>\n        <td>{{ party.party }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party.quoted_cost or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party.invoiced_cost or 0) }}</td>\n        <td class=\"number {% if (party.quoted_cost or 0) - (party.invoiced_cost or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((party.quoted_cost or 0) - (party.invoiced_cost or 0)) }}</td>\n      </tr>\n      {% endfor %}\n      <tr class=\"total-row\">\n        <td>TOTAL SUPPLIERS</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party_data.totals.quoted_cost or 0) }}</td>\n        <td class=\"number\">{{ \"{:,.0f}\".format(party_data.totals.invoiced_cost or 0) }}</td>\n        <td class=\"number {% if (party_data.totals.quoted_cost or 0) - (party_data.totals.invoiced_cost or 0) >= 0 %}positive{% else %}negative{% endif %}\">{{ \"{:,.0f}\".format((party_data.totals.quoted_cost or 0) - (party_data.totals.invoiced_cost or 0)) }}</td>\n      </tr>\n    </tbody>\n  </table>\n  \n  {% set sales_invoices = frappe.db.get_list('Sales Invoice', filters={'forwarding_job_reference': doc.name}, fields=['name', 'creation', 'grand_total', 'status', 'is_return'], order_by='creation desc') or [] %}\n  {% set purchase_invoices = frappe.db.get_list('Purchase Invoice', filters={'forwarding_job_reference': doc.name}, fields=['name', 'creation', 'grand_total', 'status', 'is_return'], order_by='creation desc') or [] %}\n  {% if sales_invoices or purchase_invoices %}\n  <div class=\"section-title\">Linked Invoices</div>\n  <table class=\"party-table\">\n    <thead><tr><th style=\"width:25%;\">DOCUMENT NAME</th><th style=\"width:20%; text-align:left;\">DOCUMENT TYPE</th><th style=\"width:20%;\">DATE CREATED</th><th style=\"width:17%;\">AMOUNT</th><th style=\"width:18%;\">STATUS</th></tr></thead>\n    <tbody>\n      {% for si in sales_invoices %}<tr><td>{{ si.name }}</td><td style=\"text-align:left;\">{{ \"Credit Note\" if si.is_return else \"Sales Invoice\" }}</td><td>{{ frappe.utils.formatdate(si.creation, \"dd-MMM-yy\") }}</td><td class=\"number\">{{ \"{:,.0f}\".format(si.grand_total or 0) }}</td><td>{{ si.status }}</td></tr>{% endfor %}\n      {% for pi in purchase_invoices %}<tr><td>{{ pi.name }}</td><td style=\"text-align:left;\">{{ \"Credit Note\" if pi.is_return else \"Purchase Invoice\" }}</td><td>{{ frappe.utils.formatdate(pi.creation, \"dd-MMM-yy\") }}</td><td class=\"number\">{{ \"{:,.0f}\".format(pi.grand_total or 0) }}</td><td>{{ pi.status }}</td></tr>{% endfor %}\n    </tbody>\n  </table>\n  {% endif %}\n  \n  <div class=\"footer\"><p>Generated on {{ doc.date_created }} | {{ doc.currency or \"USD\" }} | For internal use only</p></div>\n  <div class=\"page-number\">Page <span class=\"page\"></span> of <span class=\"toPage\"></span></div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 01:13:24.561325",
  "module": "Forwarding Service",
  "name": "Forwarding Job Cost Sheet",
  "page_number": "Bottom Right",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Road Freight Job",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n<div class=\"main-container\">\n  <style>\n    html, body { margin:0; padding:0; font-family: Arial, sans-serif; font-size: 13px; }\n    .main-container { padding: 8px; }\n    .heading-label { font-size:20px; font-weight:700; text-align:center; margin-bottom:8px; }\n    .section { margin-bottom: 7px; }\n    .section-title { font-size:14px; font-weight:600; border-bottom:1px solid #000; margin-bottom:2px; }\n    .info-table, .cost-table, .items-table { width:100%; border-collapse:collapse; }\n    .info-table td, .cost-table td { padding:0px 1px; font-size:13px; }\n    .items-table th, .items-table td { padding:0px 1px; font-size:13px; }\n    .info-table, .cost-table { line-height:0.6; }\n    .items-table tr { line-height:1.0; }\n    .items-table th,\n    .items-table .total-row {\n      background: #f5f5f5;\n      border-bottom: 1px solid #ccc;\n      color: #222;\n      font-weight: 700;\n    }\n    .rt { text-align:right; }\n    .cn { text-align:center; }\n    .bold { font-weight:600; }\n  </style>\n\n  <div class=\"heading-label\">Road Freight Job Cost Sheet</div>\n\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td><strong>Job No.:</strong> {{ doc.name }}</td>\n        <td class=\"rt\"><strong>Date:</strong> {{ frappe.utils.formatdate(doc.date_created, \"dd-MMM-yy\") }}</td>\n      </tr>\n      <tr>\n        <td><strong>Customer:</strong> {{ doc.customer }}</td>\n        <td class=\"rt\"><strong>Mode:</strong> {{ (doc.shipment_type or \"-\") ~ \" \" ~ (doc.direction or \"\") }}</td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section\" style=\"margin-bottom: 4px;\">\n    <div class=\"section-title\">Cost & Revenue Summary</div>\n    <table class=\"cost-table\" style=\"margin-bottom: 0;\">\n      <tr>\n        <td>Total Estimated Revenue</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_revenue or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Total Estimated Cost</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_cost or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Total Estimated Profit</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_profit or ((doc.total_estimated_revenue or 0) - (doc.total_estimated_cost or 0)), currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Margin %</td>\n        <td class=\"rt\"><span class=\"bold\">\n          {% if doc.total_estimated_revenue %}\n            {{ (((doc.total_estimated_profit or ((doc.total_estimated_revenue or 0) - (doc.total_estimated_cost or 0))) / (doc.total_estimated_revenue or 1)) * 100) | round(2) }}%\n          {% else %}\n            0%\n          {% endif %}\n        </span></td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section\">\n    <div class=\"section-title\">Charge Breakdown</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width:30%\">Charge</th>\n          <th style=\"width:20%\">Supplier</th>\n          <th class=\"rt\" style=\"width:15%\">Revenue</th>\n          <th class=\"rt\" style=\"width:15%\">Cost</th>\n          <th class=\"rt\" style=\"width:15%\">Margin</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for row in doc.road_freight_charges %}\n        <tr>\n          <td>{{ row.charge }}</td>\n          <td>{{ row.supplier or \"-\" }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(row.revenue_amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(row.cost_amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">\n            {{ frappe.utils.fmt_money((row.revenue_amount or 0) - (row.cost_amount or 0), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n        {% endfor %}\n        <tr class=\"total-row\">\n          <td class=\"bold\" colspan=\"2\">Total</td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.road_freight_charges | sum(attribute='revenue_amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.road_freight_charges | sum(attribute='cost_amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money((doc.road_freight_charges | sum(attribute='revenue_amount')) - (doc.road_freight_charges | sum(attribute='cost_amount')), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div style=\"margin-top:20px; font-size:12px; color:#888;\">\n    <em>For internal use only. Not for customer distribution.</em>\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-08-24 00:37:37.054374",
  "module": "Road Freight Service",
  "name": "Road Freight Job Cost Sheet",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Clearing Job",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set no_default_print_heading = 1 -%}\n<div class=\"main-container\">\n  <style>\n    html, body { margin:0; padding:0; font-family: Arial, sans-serif; font-size: 13px; }\n    .main-container { padding: 8px; }\n    .heading-label { font-size:20px; font-weight:700; text-align:center; margin-bottom:8px; }\n    .section { margin-bottom: 7px; }\n    .section-title { font-size:14px; font-weight:600; border-bottom:1px solid #000; margin-bottom:2px; }\n    .info-table, .cost-table, .items-table { width:100%; border-collapse:collapse; }\n    .info-table td, .cost-table td { padding:0px 1px; font-size:13px; }\n    .items-table th, .items-table td { padding:0px 1px; font-size:13px; }\n    .info-table, .cost-table { line-height:0.6; }\n    .items-table tr { line-height:1.0; }\n    .items-table th,\n    .items-table .total-row {\n      background: #f5f5f5;\n      border-bottom: 1px solid #ccc;\n      color: #222;\n      font-weight: 700;\n    }\n    .rt { text-align:right; }\n    .cn { text-align:center; }\n    .bold { font-weight:600; }\n  </style>\n\n  <div class=\"heading-label\">Clearing Job Cost Sheet</div>\n\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td><strong>Job No.:</strong> {{ doc.name }}</td>\n        <td class=\"rt\"><strong>Date:</strong> {{ frappe.utils.formatdate(doc.date_created, \"dd-MMM-yy\") }}</td>\n      </tr>\n      <tr>\n        <td><strong>Customer:</strong> {{ doc.customer }}</td>\n        <td class=\"rt\"><strong>Mode:</strong> {{ (doc.direction or \"-\") }}</td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section\" style=\"margin-bottom: 4px;\">\n    <div class=\"section-title\">Cost & Revenue Summary</div>\n    <table class=\"cost-table\" style=\"margin-bottom: 0;\">\n      <tr>\n        <td>Total Estimated Revenue</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_revenue or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Total Estimated Cost</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_cost or 0, currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Total Estimated Profit</td>\n        <td class=\"rt\"><span class=\"bold\">{{ frappe.utils.fmt_money(doc.total_estimated_profit or ((doc.total_estimated_revenue or 0) - (doc.total_estimated_cost or 0)), currency=doc.currency, format=\"#,##0.00\") }}</span></td>\n      </tr>\n      <tr>\n        <td>Margin %</td>\n        <td class=\"rt\"><span class=\"bold\">\n          {% if doc.total_estimated_revenue %}\n            {{ (((doc.total_estimated_profit or ((doc.total_estimated_revenue or 0) - (doc.total_estimated_cost or 0))) / (doc.total_estimated_revenue or 1)) * 100) | round(2) }}%\n          {% else %}\n            0%\n          {% endif %}\n        </span></td>\n      </tr>\n    </table>\n  </div>\n\n  <div class=\"section\">\n    <div class=\"section-title\">Charge Breakdown</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width:30%\">Charge</th>\n          <th style=\"width:20%\">Supplier</th>\n          <th class=\"rt\" style=\"width:15%\">Revenue</th>\n          <th class=\"rt\" style=\"width:15%\">Cost</th>\n          <th class=\"rt\" style=\"width:15%\">Margin</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for row in doc.clearing_charges %}\n        <tr>\n          <td>{{ row.charge }}</td>\n          <td>{{ row.supplier or \"-\" }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(row.revenue_amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">{{ frappe.utils.fmt_money(row.cost_amount or 0, currency=doc.currency, format=\"#,##0.00\") }}</td>\n          <td class=\"rt\">\n            {{ frappe.utils.fmt_money((row.revenue_amount or 0) - (row.cost_amount or 0), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n        {% endfor %}\n        <tr class=\"total-row\">\n          <td class=\"bold\" colspan=\"2\">Total</td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.clearing_charges | sum(attribute='revenue_amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money(doc.clearing_charges | sum(attribute='cost_amount'), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n          <td class=\"rt bold\">\n            {{ frappe.utils.fmt_money((doc.clearing_charges | sum(attribute='revenue_amount')) - (doc.clearing_charges | sum(attribute='cost_amount')), currency=doc.currency, format=\"#,##0.00\") }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div style=\"margin-top:20px; font-size:12px; color:#888;\">\n    <em>For internal use only. Not for customer distribution.</em>\n  </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-08-24 00:48:32.823511",
  "module": "Clearing Service",
  "name": "Clearing Job Cost Sheet",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Journal Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{%- set currency = doc.company_currency or frappe.defaults.get_default('currency') -%}\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <style>\n        /* Base */\n        body {\n            font-family: 'Courier New', monospace;\n            font-size: 11px;\n            line-height: 1.2;\n            margin: 0;\n            padding: 5px;\n            width: 72mm; /* fits 80mm paper with margins */\n            color: #000;\n        }\n\n        .receipt-container { width: 100%; }\n\n        /* Header */\n        .header {\n            text-align: center;\n            margin-bottom: 8px;\n            border-bottom: 1px solid #000;\n            padding-bottom: 6px;\n        }\n        .company-name { font-weight: bold; font-size: 13px; margin-bottom: 2px; }\n        .receipt-title { font-weight: bold; font-size: 12px; margin-top: 2px; }\n\n        /* Details */\n        .details-section { margin: 7px 0; font-size: 10px; }\n        .detail-row { display: flex; justify-content: space-between; margin: 2px 0; word-wrap: break-word; }\n        .detail-label { font-weight: bold; min-width: 75px; }\n        .detail-value { flex: 1; text-align: right; word-break: break-word; }\n\n        /* Amount in words */\n        .amount-words { margin: 8px 0; padding: 4px; border: 1px solid #000; font-size: 10px; }\n\n        /* Accounts table (company copy only) - Debit only */\n        .accounts-table { width: 100%; border-collapse: collapse; margin: 8px 0; font-size: 9px; }\n        .accounts-table th, .accounts-table td { border: 1px solid #000; padding: 2px 4px; vertical-align: top; word-break: break-word; }\n        .accounts-table th { font-weight: bold; text-align: center; background: #f0f0f0; }\n        .amount-col { text-align: right !important; min-width: 60px; }\n\n        /* Signature using table for reliable two-column layout */\n        .signature-section {\n            margin-top: 12px;\n            border-top: 1px solid #000;\n            padding-top: 8px;\n            font-size: 10px;\n            width: 100%;\n        }\n        .sig-table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 6px;\n        }\n        .sig-table td {\n            vertical-align: top;\n            padding: 6px 8px;\n        }\n        /* REDUCED SPACING BETWEEN THE TWO SIGNATURE ROWS */\n        .sig-table tr:first-child td {\n            padding-bottom: 2px;\n        }\n        .sig-label { font-weight: bold; margin-bottom: 6px; display:block; }\n        .sig-line { border-bottom: 1px solid #000; height: 20px; margin-bottom: 4px; width:100%; display:block; }\n        .sig-small-note { text-align: center; font-size: 8px; margin-top: 2px; }\n\n        /* Cut line and copy label */\n        .cut-line { border-top: 1px dashed #000; margin: 6px 0 10px 0; }\n        .copy-label { font-size: 10px; font-weight: bold; text-align: center; margin-bottom: 4px; }\n\n        /* Copy behaviour */\n        .receipt-copy { page-break-inside: avoid; }\n        .receipt-copy.company { /* if printing to A4 and you want separate pages */ }\n        .receipt-copy.recipient { }\n\n        @media print {\n            body { margin: 0; padding: 2px; }\n            .receipt-container { page-break-after: always; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"receipt-container\">\n\n        {%- macro render_header_and_details(show_accounts=True, copy_label=None, show_signature=True) -%}\n        <div class=\"receipt-copy {{ 'company' if show_accounts else 'recipient' }}\">\n            <!-- Header -->\n            <div class=\"header\">\n                <div class=\"company-name\">{{ doc.company }}</div>\n                <div class=\"receipt-title\">CASH PAYMENT VOUCHER</div>\n            </div>\n\n            {% if copy_label %}\n            <div class=\"copy-label\">{{ copy_label }}</div>\n            {% endif %}\n\n            <!-- Details -->\n            <div class=\"details-section\">\n                <div class=\"detail-row\">\n                    <span class=\"detail-label\">Date:</span>\n                    <span class=\"detail-value\">\n                        {{ frappe.utils.formatdate(doc.posting_date, \"dd/mm/yyyy\") }}\n                    </span>\n                </div>\n\n                <div class=\"detail-row\">\n                    <span class=\"detail-label\">Entry Type:</span>\n                    <span class=\"detail-value\">{{ doc.voucher_type or \"Journal Entry\" }}</span>\n                </div>\n\n                <div class=\"detail-row\">\n                    <span class=\"detail-label\">Reference:</span>\n                    <span class=\"detail-value\">{{ doc.name }}</span>\n                </div>\n\n                {% if doc.user_remark %}\n                <div class=\"detail-row\">\n                    <span class=\"detail-label\">Details:</span>\n                    <span class=\"detail-value\">{{ doc.user_remark }}</span>\n                </div>\n                {% endif %}\n\n                <div class=\"detail-row total-amount\">\n                    <span class=\"detail-label\">Amount:</span>\n                    <span class=\"detail-value\">\n                        {{ frappe.utils.fmt_money(doc.total_credit, currency=currency) }}\n                    </span>\n                </div>\n            </div>\n\n            <!-- Amount in Words -->\n            <div class=\"amount-words\">\n                <div class=\"field-label\">Amount in Words:</div>\n                <div>{{ frappe.utils.money_in_words(doc.total_credit, currency) }}</div>\n            </div>\n\n            {%- if show_accounts %}\n            <!-- Accounts Table (only for company copy) - Debit only -->\n            <table class=\"accounts-table\">\n                <thead>\n                    <tr>\n                        <th style=\"width: 70%;\">Account</th>\n                        <th style=\"width: 30%;\">Debit</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {# show only rows that have a debit amount to avoid zero rows #}\n                    {% for account in doc.accounts if account.debit %}\n                    <tr>\n                        <td>{{ account.account }}</td>\n                        <td class=\"amount-col\">\n                            {{ frappe.utils.fmt_money(account.debit, currency=currency) }}\n                        </td>\n                    </tr>\n                    {% endfor %}\n                </tbody>\n            </table>\n            {%- endif %}\n\n            {%- if show_signature %}\n            <!-- Signature Section (company copy) - table based 2x2 layout -->\n            <div class=\"signature-section\" role=\"group\" aria-label=\"Signature section\">\n                <table class=\"sig-table\" role=\"presentation\">\n                    <tr>\n                        <td style=\"width:50%;\">\n                            <span class=\"sig-label\">Received by:</span>\n                            <span class=\"sig-line\"></span>\n                            <div class=\"sig-small-note\">Name</div>\n                        </td>\n                        <td style=\"width:50%;\">\n                            <span class=\"sig-label\">Signature:</span>\n                            <span class=\"sig-line\"></span>\n                            <div class=\"sig-small-note\">Signature</div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <span class=\"sig-label\">ID No:</span>\n                            <span class=\"sig-line\"></span>\n                        </td>\n                        <td>\n                            <span class=\"sig-label\">Cell No:</span>\n                            <span class=\"sig-line\"></span>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            {%- endif %}\n\n        </div>\n        {%- endmacro %}\n\n        <!-- Render Company Copy (full, with accounts table and signature) -->\n        {{ render_header_and_details(show_accounts=True, copy_label=\"Company Copy\", show_signature=True) }}\n\n        <!-- Cut line -->\n        <div class=\"cut-line\" aria-hidden=\"true\"></div>\n\n        <!-- Render Recipient Copy (no accounts table, no signature; ends after Amount in Words) -->\n        {{ render_header_and_details(show_accounts=False, copy_label=\"Recipient Copy\", show_signature=False) }}\n\n    </div>\n</body>\n</html>\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2026-01-18 01:06:00.300169",
  "module": "Accounts",
  "name": "Cash Pmt Voucher",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "Yes"
 }
]