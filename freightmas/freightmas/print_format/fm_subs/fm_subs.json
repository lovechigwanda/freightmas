{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2026-01-17 19:16:43.609925",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{%- set no_default_print_heading = 1 -%}\n{%- from \"templates/print_formats/standard_macros.html\" import add_header -%}\n\n<div class=\"main-container\">\n  {{ add_header(0, 1, doc, letter_head, no_letterhead, print_settings) }}\n\n  {%- set heading_label = (\n      \"Proforma Invoice\" if doc.docstatus == 0 else\n      \"Sales Invoice\"\n  ) -%}\n\n  {%- set cust_addr = frappe.get_all(\"Address\", filters={\"link_name\": doc.customer_name, \"link_doctype\": \"Customer\"}, fields=[\"address_line1\", \"address_line2\", \"city\", \"country\"], limit=1) -%}\n\n  <style>\n  {# Border inset inside the printable area (0 = touch printable edge) #}\n  {%- set border_inset = 0 -%}\n  {# Inner padding between border and content #}\n  {%- set content_inner_padding = 3 -%}\n\n  html, body { margin:0; padding:0; height:100%; font-family: Arial, sans-serif; font-size: 13px; }\n\n  .print-format {\n    position:relative;\n    background:transparent !important;\n    margin:0 !important;\n    padding:0;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .page-border {\n    position:fixed;\n    top:{{ border_inset }}mm;\n    left:{{ border_inset }}mm;\n    right:{{ border_inset }}mm;\n    bottom:{{ border_inset }}mm;\n    border:1px solid #000;\n    z-index:0;\n    pointer-events:none;\n  }\n\n  .main-container {\n    position:relative;\n    z-index:1;\n    padding:{{ content_inner_padding }}mm;\n    font-family: Arial, sans-serif;\n    font-size: 13px;\n  }\n\n  .print-heading,\n  .print-heading + div { display:none !important; }\n\n  .heading-label {\n    font-size:18px;\n    font-weight:600;\n    text-align:center;\n    color:#222;\n    margin-bottom:8px;\n    letter-spacing:1px;\n    text-transform:uppercase;\n    font-family: Arial, sans-serif;\n  }\n\n  .section { margin-bottom:8px; }\n\n  .section-title {\n    font-size:13px;\n    font-weight:600;\n    border-bottom:1px solid #000;\n    color:#000;\n    margin-bottom:4px;\n    padding-bottom:2px;\n    font-family: Arial, sans-serif;\n  }\n\n  .letter-head {\n    margin-bottom:2mm !important;\n  }\n\n  /* Fix logo stretching in PDF - Multiple approaches */\n  .letter-head img,\n  .print-format .letter-head img,\n  div[class*=\"letter\"] img {\n    max-height: 35px !important;\n    max-width: 150px !important;\n    height: auto !important;\n    width: auto !important;\n    object-fit: contain !important;\n    -webkit-print-color-adjust: exact !important;\n    print-color-adjust: exact !important;\n  }\n\n  /* Additional PDF-specific fix */\n  @media print {\n    .letter-head img {\n      max-height: 35px !important;\n      width: auto !important;\n      height: auto !important;\n    }\n  }\n\n  .section:first-of-type {\n    margin-top:0;\n  }\n\n  .info-table, .subscription-table, .items-table, .summary-table { width:100%; border-collapse:collapse; }\n  .info-table td { \n    padding:2px 0; \n    vertical-align:top; \n    font-size: 13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .subscription-table td {\n    padding:4px 6px;\n    border:1px solid #dde2e7;\n    font-size:13px;\n    line-height:1.3;\n    vertical-align:top;\n  }\n\n  .items-table th {\n    background:#fff;\n    color:#000;\n    border-bottom:1px solid #000;\n    padding:4px 4px;\n    font-weight:700;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .items-table td {\n    padding:4px 4px;\n    border-bottom:none;\n    vertical-align:top;\n    line-height:1.3;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .summary-table td {\n    padding:4px 4px;\n    border-bottom:1px solid #f0f3f5;\n    line-height:1.2;\n    font-size:13px;\n    font-family: Arial, sans-serif;\n  }\n\n  .rt { text-align:right; }\n  .cn { text-align:center; }\n  .grand-total td { \n    border-top: 2px solid #000; \n    border-bottom: 2px solid #000; \n    font-weight:700; \n  }\n\n  .footer-note {\n    font-size:13px;\n    color:#000;\n    text-align:center;\n    margin-top:12px;\n    font-family: Arial, sans-serif;\n  }\n\n  .item-name { color:#000; font-weight:500; }\n  .item-desc { color:#000; }\n  .item-description { white-space:normal; word-wrap:break-word; line-height:1.2; }\n\n  .section:last-of-type { margin-bottom:8px; }\n\n  .subscription-badge {\n    display:inline-block;\n    padding:2px 8px;\n    background:#f0f9ff;\n    border:1px solid #0284c7;\n    color:#0284c7;\n    font-size:11px;\n    font-weight:600;\n    border-radius:3px;\n    margin-left:8px;\n  }\n  </style>\n\n  <!-- Add border element -->\n  <div class=\"page-border\"></div>\n\n  <div class=\"heading-label\">{{ heading_label }}</div>\n\n  <!-- Customer Information -->\n  <div class=\"section\">\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>To:</strong><br>\n          <strong>{{ doc.customer_name }}</strong><br>\n          {% if cust_addr %}\n            {{ cust_addr[0].address_line1 or \"\" }}<br>\n            {% if cust_addr[0].address_line2 %}{{ cust_addr[0].address_line2 }}<br>{% endif %}\n            {{ cust_addr[0].city or \"\" }}, {{ cust_addr[0].country or \"\" }}<br>\n          {% endif %}\n          Tax ID No: {{ frappe.db.get_value(\"Customer\", doc.customer, \"tax_id\") or \"-\" }}\n        </td>\n        <td class=\"rt\" style=\"width: 50%;\">\n          Invoice No.: <strong>{{ doc.name }}</strong><br>\n          Invoice Date: {{ frappe.utils.formatdate(doc.posting_date, \"dd-MMM-yy\") }}<br>\n          Due Date: {{ frappe.utils.formatdate(doc.due_date, \"dd-MMM-yy\") }}<br>\n          Currency: {{ doc.currency }}<br>\n          Status: {{ doc.status }}<br>\n          Outstanding: {{ doc.currency }} {{ \"{:,.2f}\".format(doc.outstanding_amount or 0) }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Subscription Details -->\n  <div class=\"section\">\n    <div class=\"section-title\">Subscription Service Details</div>\n    <table class=\"subscription-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          <strong>Subscription Plan:</strong><br>\n          {{ doc.subscription or \"FreightMas Cloud Hosting\" }}\n        </td>\n        <td style=\"width: 50%;\">\n          <strong>Billing Period:</strong><br>\n          {{ frappe.utils.formatdate(doc.from_date, \"dd-MMM-yy\") }} to \n          {{ frappe.utils.formatdate(doc.to_date, \"dd-MMM-yy\") }}\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Invoice Items -->\n  <div class=\"section\">\n    <div class=\"section-title\">Invoice Items</div>\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th class=\"cn\" style=\"width:5%\">#</th>\n          <th style=\"width:50%\">Description</th>\n          <th class=\"cn\" style=\"width:10%\">QTY</th>\n          <th class=\"rt\" style=\"width:13%\">Rate</th>\n          <th class=\"rt\" style=\"width:13%\">Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for item in doc.items %}\n        <tr>\n          <td class=\"cn\">{{ item.idx }}</td>\n          <td class=\"item-description\">\n            <span class=\"item-name\">{{ item.item_name }}</span>\n            {% if item.get(\"custom_is_subscription\") %}\n              <span class=\"subscription-badge\">SUBSCRIPTION</span>\n            {% endif %}\n            {% if item.description %}<br><span class=\"item-desc\">{{ item.description|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</span>{% endif %}\n          </td>\n          <td class=\"cn\">{{ item.qty or 1 }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.rate or 0) }}</td>\n          <td class=\"rt\">{{ \"{:,.2f}\".format(item.amount) }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  <!-- Summary -->\n  <div class=\"section\">\n    <div class=\"section-title\">Summary</div>\n    <table class=\"summary-table\">\n      <tr>\n        <td style=\"width: 65%;\">\n          {% if doc.payment_terms_template %}\n            <strong>Payment Terms:</strong> {{ doc.payment_terms_template }}\n          {% endif %}\n        </td>\n        <td style=\"width: 20%;\"><strong>Sub Total</strong></td>\n        <td class=\"rt\" style=\"width: 15%; white-space: nowrap;\">{{ doc.currency }} {{ \"{:,.2f}\".format(doc.total or 0) }}</td>\n      </tr>\n      <tr>\n        <td style=\"border-bottom: none;\"></td>\n        <td style=\"border-bottom: none;\"><strong>Discount</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-bottom: none;\">\n          {{ doc.currency }} {{ \"{:,.2f}\".format(doc.discount_amount or 0) }}\n        </td>\n      </tr>\n      <tr class=\"grand-total\">\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"></td>\n        <td style=\"border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>Grand Total</strong></td>\n        <td class=\"rt\" style=\"white-space: nowrap; border-top: 2px solid #000; border-bottom: 2px solid #000; padding-top: 4px; padding-bottom: 4px;\"><strong>{{ doc.currency }} {{ \"{:,.2f}\".format(doc.grand_total or 0) }}</strong></td>\n      </tr>\n    </table>\n  </div>\n\n  <!-- Amount in Words -->\n  {% if doc.in_words %}\n  <p style=\"margin-top: 15px;\"><strong>Amount in Words:</strong> {{ doc.in_words }}</p>\n  {% endif %}\n\n  <!-- Banking Details -->\n  {% if doc.banking_profile %}\n  {% set banking_details = frappe.get_doc(\"Banking Profile\", doc.banking_profile) %}\n  <div class=\"section\">\n    <div class=\"section-title\">Banking Details</div>\n    <table class=\"info-table\">\n      <tr>\n        <td style=\"width: 50%;\">\n          Bank Name: {{ banking_details.bank_name }}<br>\n          Account Name: {{ banking_details.account_name }}<br>\n          Account Number: {{ banking_details.account_number }}\n        </td>\n        <td style=\"width: 50%;\">\n          {% if banking_details.branch %}Branch: {{ banking_details.branch }}<br>{% endif %}\n          {% if banking_details.swift_code %}Swift Code: {{ banking_details.swift_code }}<br>{% endif %}\n          Currency: {{ banking_details.currency }}\n        </td>\n      </tr>\n    </table>\n    <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n  </div>\n  {% endif %}\n\n  <!-- Terms and Conditions -->\n  {% if doc.tc_name %}\n    {% set terms_doc = frappe.get_doc(\"Terms and Conditions\", doc.tc_name) %}\n    <div class=\"section\">\n      <div class=\"section-title\">Terms & Conditions</div>\n      <table class=\"info-table\">\n        <tr>\n          <td style=\"font-size: 10px; line-height: 1.3; text-align: justify;\">{{ terms_doc.terms|striptags|replace('\\n', ' ')|replace('\\r', ' ') }}</td>\n        </tr>\n      </table>\n      <hr style=\"border: none; border-top: 1px solid #000; margin-top: 8px; margin-bottom: 8px;\">\n    </div>\n  {% endif %}\n\n  <div class=\"footer-note\">\n    Thank you for your business! For support, please contact support@freightmas.co.zw\n  </div>\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-18 01:02:49.639720",
 "modified_by": "Administrator",
 "module": "FreightMas",
 "name": "FM Subs",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
